{% extends "base.html" %}
{% load i18n %}
{% load url from future %}
{% block title %}{% trans "Create Workbook" %}{% endblock %}

{% block page_header %}
  {% include "horizon/common/_page_header.html" with title=_("Workbooks") %}
{% endblock page_header %}

  {% include "_stylesheets.html" %}

{% block css %}
  {% include "_stylesheets.html" %}
  <link rel="stylesheet" href="{{ STATIC_URL }}mistral/css/mistral.css">
  {% block merlin-css %}{% endblock %}
{% endblock %}

{% block main %}
<h3>Create Workbook</h3>
  <div id="create-workbook" class="fluid-container">
    <div class="row">
      <div class="col-md-12 col-lg-12 col-sm-12">
        <div class="well">
          <div class="row">
            <div class="col-md-6 col-lg-6 col-sm-6">
              <div class="pull-left">
                <h4><strong>Workbook</strong></h4>
              </div>
              <div class="pull-right">
                <div class="table-actions clearfix">
                  <button class="btn btn-default btn-sm"><span class="fa fa-plus">Add Action</span></button>
                  <button class="btn btn-default btn-sm"><span class="fa fa-plus">Add Workflow</span></button>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-lg-6 col-sm-6">
              <div class="btn-group btn-toggle pull-right">
                <button class="btn btn-sm btn-default">Graph</button>
                <button class="btn btn-sm btn-primary active">YAML</button>
              </div>
            </div>
          </div>
          <!-- Initial state -->
          <div class="row">
            <div class="col-md-6 col-sm-6 col-lg-6">
              <div class="panel panel-default">
                <div class="panel-body">
                  You haven't created any workflow or action
                </div>
              </div>
            </div>
            <div class="col-md-6 col-sm-6 col-lg-6">
              <div class="panel panel-default">
                <div class="panel-body">
                  Nothing to show
                </div>
              </div>
            </div>
          </div>
          <!-- Action added -->
          <div class="row">
            <div class="col-md-6 col-sm-6 col-lg-6">

              <div class="panel panel-default merlin-panel" id="panel1">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-target="#collapseOne" href="#collapseOne">
                      Action1</a>
                    <i class="fa fa-times-circle pull-right"></i></h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in">
                  <div class="panel-body">
                    <!-- 2 simple inputs in a single row -->
                    <div class="row">
                      <div class="col-md-5 col-sm-5 col-lg-5">
                        <div class="form-group">
                          <label for="action1Name">Name</label>
                          <input type="text" class="form-control" id="action1Name" placeholder="Action1">
                        </div>
                      </div>
                      <div class="col-md-5 col-sm-5 col-lg-5">
                        <div class="form-group">
                          <label for="action1Base">Base</label>
                          <input type="text" class="form-control" id="action1Base" placeholder="nova.create_server">
                        </div>
                      </div>
                    </div>
                    <!-- collapsible dictionary section with fixed keys -->
                    <div class="row">
                      <div class="col-md-5 col-sm-5 col-lg-5">
                        <div class="section">
                          <h5><a data-toggle="collapse" data-target="#collapseTwo" id="collapseTwoLink" href="#collapseTwo">
                            Base Input</a></h5>
                          <div id="collapseTwo" class="collapse in">
                            <div class="form-group">
                              <label for="action1BaseInputFlavorId">Flavor Id</label>
                              <input type="text" class="form-control" id="action1BaseInputFlavorId">
                            </div>
                            <div class="form-group">
                              <label for="action1BaseInputImageId">Image Id</label>
                              <input type="text" class="form-control" id="action1BaseInputImageId">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- collapsible keys list section -->
                    <div class="row">
                      <div class="col-md-5 col-sm-5 col-lg-5">
                        <div class="section">
                          <h5><a data-toggle="collapse" data-target="#collapseThree" id="collapseThreeLink" href="#collapseThree">
                            Input</a></h5>
                          <div id="collapseThree" class="collapse in">
                            <div class="form-group">
                              <div class="input-group">
                                <input type="text" class="form-control">
                                <i class="fa fa-minus-circle input-group-addon"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-7 col-sm-7 col-lg-7">
                        <button class="btn btn-default btn-sm pull-right"><i class="fa fa-plus"></i></button>
                      </div>
                    </div>
                    <!-- collapsible section with variable type = string|list|dictionary -->
                    <div class="row">
                      <div class="col-md-10 col-sm-10 col-lg-10">
                        <div class="section">
                          <h5><a data-toggle="collapse" data-target="#collapseFour" id="collapseFourLink" href="#collapseFour">
                            Output</a></h5>
                          <div id="collapseFour" class="collapse in">
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label for="collapseFourOuputF1">Key Type</label>
                                  <select id="collapseFourOuputF1" class="form-control">
                                    <option selected disabled>String</option>
                                    <option disabled>List</option>
                                    <option disabled>Dictionary</option>
                                  </select>
                                </div>
                              </div>
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label>&nbsp;</label>
                                  <input type="text" class="form-control">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label for="collapseFourOuputF2">Key Type</label>
                                  <select id="collapseFourOuputF2" class="form-control">
                                    <option disabled>String</option>
                                    <option selected disabled>Dictionary</option>
                                    <option disabled>List</option>
                                  </select>
                                </div>
                              </div>
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label for="collapseFourOuputF3">Key1
                                    <a href="#" data-toggle="popover" data-trigger="click"
                                       data-container="body" data-content="<label>New Name</label>
                                       <input type='text' class='form-control' value='Key1'>
                                       <button class='btn btn-default btn-sm cancel'>Cancel</button>
                                       <button class='btn btn-primary btn-sm'>Save</button>">
                                      <i class="fa fa-pencil"></i></a></label>
                                  <div class="input-group" id="collapseFourOuputF3">
                                    <input type="text" class="form-control">
                                    <i class="fa fa-minus-circle input-group-addon"></i>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-lg-6"></div>
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label for="collapseFourOuputF4">Key2
                                    <a href="#" data-toggle="popover" data-trigger="click"
                                       data-container="body" data-content="<label>New Name</label>
                                       <input type='text' class='form-control' value='Key2'>
                                       <button class='btn btn-default btn-sm cancel'>Cancel</button>
                                       <button class='btn btn-primary btn-sm'>Save</button>">
                                      <i class="fa fa-pencil"></i></a></label>
                                  <div class="input-group" id="collapseFourOuputF4">
                                    <input type="text" class="form-control">
                                    <i class="fa fa-minus-circle input-group-addon"></i>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="form-group">
                                  <label for="collapseFourOuputF5">Key Type</label>
                                  <select id="collapseFourOuputF5" class="form-control">
                                    <option disabled>String</option>
                                    <option disabled>Dictionary</option>
                                    <option selected disabled>List</option>
                                  </select>
                                </div>
                              </div>
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <label>&nbsp;</label>
                                <div class="input-group">
                                  <input type="text" class="form-control">
                                    <i class="fa fa-minus-circle input-group-addon"></i>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-lg-6"></div>
                              <div class="col-md-6 col-sm-6 col-lg-6">
                                <div class="input-group">
                                  <input type="text" class="form-control">
                                    <i class="fa fa-minus-circle input-group-addon"></i>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-2 col-sm-2 col-lg-2">
                        <button class="btn btn-default btn-sm pull-right"><i class="fa fa-plus"></i></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-sm-6 col-lg-6">
              <div class="panel panel-default">
                <div class="panel-body">
                  Nothing to show
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 col-lg-12 col-sm-12">
              <div class="pull-right">
                <button class="btn btn-default cancel">Cancel</button>
                <button class="btn btn-primary">Create</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
{% block js %}
{% include "horizon/_scripts.html" %}
<script type="text/javascript">
  $(function() {
    $('a[data-toggle="popover"]').popover({html: true}).on('click', function(e) {
      e.preventDefault();
      return true;
    });
  });
</script>
{% endblock %}
{##}
{#{% block modal-js %}#}
{#  <script src="{{ STATIC_URL }}mistral/js/schema.js"></script>#}
{#  <script src="{{ STATIC_URL }}mistral/js/workbook.js"></script>#}
{#{% endblock %}#}